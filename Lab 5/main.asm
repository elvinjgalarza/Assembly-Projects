.ORIG x3000
	
	LD R6, PTR
	LD R5, ISRLOC
	STI R5, VECTOR
	LD R4, MASK	
	LDI R2, KBSR1
	ADD R4, R4, R2
	STI R4, KBSR1

MAIN1	LD R2, COUNTER_20
	LD R3, ASCII_DOTS
	LD R4, ASCII_SPACE

MAIN	ADD R0, R3, #0			
	OUT
	LD R1, COUNT
DOTS	ADD R1, R1,#-1
	BRp DOTS

	ADD R0, R4, #0
	OUT
	LD R1, COUNT
SPACES	ADD R1, R1, #-1
	BRp SPACES

	ADD R2, R2, #-1
	BRp MAIN

	LD R5, ASCII_NEWLN
	ADD R0, R5, #0
	OUT

	BRnzp MAIN1 

HALT

ASCII_DOTS 	.FILL	x2E
ASCII_SPACE	.FILL	x20
ASCII_NEWLN	.FILL	x0A
COUNTER_20	.FILL	#20
COUNT		.FILL	#2500
ISRLOC		.FILL	x2000
PTR		.FILL 	x3000
MASK		.FILL 	x4000
VECTOR		.FILL 	x0180
KBSR1		.FILL 	xFE00

.END